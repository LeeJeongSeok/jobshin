<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>모의 면접 종료</title>
    <link rel="stylesheet" href="/css/LevelFeedback.css">
</head>
<body>
<div th:replace="~{layout/header.html :: header}"></div>
<div class="container">
    <!-- 메인 콘텐츠 컨테이너 -->
    <h1>모의 면접 종료</h1> <!-- 페이지의 주요 제목 -->
    <div id="message-box">
        <!-- 사용자에게 난이도 선택을 안내하는 메시지 박스 -->
        면접 질문에 대한 난이도를 선택해 주세요!
    </div>

    <form id="difficultyForm" action="/interview/submitDifficulty" method="post">
        <!-- 난이도 선택 폼 -->
        <div class="options">
            <!-- 난이도 값을 저장할 숨겨진 input 필드 -->
            <input type="hidden" name="difficulty" id="difficulty" value="">
            <!-- 난이도 선택 버튼들 -->
            <button type="button" class="option-button" onclick="setDifficulty('상')">상</button>
            <button type="button" class="option-button" onclick="setDifficulty('중')">중</button>
            <button type="button" class="option-button" onclick="setDifficulty('하')">하</button>
        </div>
        <!-- 난이도 선택 후 폼 제출 버튼 -->
        <button type="button" onclick="submitForm()">완료</button>
    </form>
</div>
<script src="/js/LevelFeedback.js" defer></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    let token = $("meta[name='_csrf']").attr("content");
    let header = $("meta[name='_csrf_header']").attr("content");

    let score = 0;
    let level = $("input[name='difficulty']:checked").val();
    let interviewScore = localStorage.getItem('interviewScore');

    function setDifficulty(level) {
        if (level === '상') {
            return 0;
        }
        if (level === '중') {
            return 50;
        }
        if (level === '하') {
            return 100;
        }
    }

    function setLevel() {
        score = (setDifficulty(level) + interviewScore) / 2;
        console.log(score);
    }

</script>
</body>
</html>